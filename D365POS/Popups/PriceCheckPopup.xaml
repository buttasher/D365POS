<?xml version="1.0" encoding="utf-8" ?>
<toolkit:Popup
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
    x:Class="D365POS.Popups.PriceCheckPopup"
    Color="Transparent">
    
    <Frame x:Name="PopupFrame"
           CornerRadius="20"
           HasShadow="True"
           Padding="30"
           VerticalOptions="Center"
           HorizontalOptions="Center"
           WidthRequest="600"  
           HeightRequest="610">
        <!-- Added height -->

        <Grid>
            <!-- MAIN CONTENT -->
            <VerticalStackLayout Spacing="30">
                <!-- Header -->
                <Label Text="Price Check"
                       FontSize="24"
                       FontAttributes="Bold"
                       TextColor="#A66E43"
                       HorizontalTextAlignment="Center"/>

                    <!-- Entry + Button -->
                    <HorizontalStackLayout Spacing="20" HorizontalOptions="Center">
                        <Entry x:Name="ItemIdEntry"
                               Placeholder="Enter Barcode"
                               PlaceholderColor="#999"
                               HorizontalOptions="Fill"
                               VerticalOptions="Center"
                               WidthRequest="340"/>
                        <!-- wider entry -->

                        <Button Text="Check"
                                WidthRequest="170" 
                                HeightRequest="50"
                                BackgroundColor="#A66E43"
                                CornerRadius="15"
                                Clicked="OnCheckPriceClicked"/>
                    </HorizontalStackLayout>

                    <!-- Result Section -->
                    <Frame x:Name="ResultFrame"
                           IsVisible="False"
                           Padding="20"
                           BorderColor="#A66E43"
                           CornerRadius="15"
                           HasShadow="False"
                           HeightRequest="400">
                        <!-- bigger result area -->
                        <ScrollView>
                            <VerticalStackLayout x:Name="ResultListLayout" Spacing="10" Padding="0,0,0,10">
                                <Label x:Name="UnitIdLabel"
                                       FontSize="18" />
                                <Label x:Name="PriceLabel"
                                       FontSize="18" />
                            </VerticalStackLayout>
                        </ScrollView>
                    </Frame>
            </VerticalStackLayout>

            <!-- LOADER OVERLAY -->
            <Grid x:Name="loaderOverlay"
                   IsVisible="False"
                   VerticalOptions="Fill"
                   HorizontalOptions="Fill"
                   Grid.ColumnSpan="2">
                <ActivityIndicator x:Name="activityIndicator"
                     Color="#A66E43"
                     IsRunning="True"
                     WidthRequest="60"
                     HeightRequest="60"
                     VerticalOptions="Center"
                     HorizontalOptions="Center"/>
            </Grid>

        </Grid>
    </Frame>
                
</toolkit:Popup>
