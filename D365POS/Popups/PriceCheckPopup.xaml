<?xml version="1.0" encoding="utf-8" ?>
<toolkit:Popup
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
    x:Class="D365POS.Popups.PriceCheckPopup"
    Color="Transparent">

    <Frame x:Name="PopupFrame"
           CornerRadius="20"
           HasShadow="True"
           Padding="25"
           VerticalOptions="Center"
           HorizontalOptions="Center"
           WidthRequest="360">

        <Grid>
            <!-- MAIN CONTENT -->
            <VerticalStackLayout Spacing="25">
                <!-- Header -->
                <Label Text="Price Check"
                       FontSize="20"
                       FontAttributes="Bold"
                       TextColor="#A66E43"
                       HorizontalTextAlignment="Center"/>

                <!-- Entry + Button -->
                <HorizontalStackLayout Spacing="15" HorizontalOptions="Center">
                    <Entry x:Name="ItemIdEntry"
                           Placeholder="Enter Item ID"
                           PlaceholderColor="#999"
                           HorizontalOptions="Fill"
                           VerticalOptions="Center"/>

                    <Button Text="Check"
                            WidthRequest="120"
                            BackgroundColor="#A66E43"
                            CornerRadius="18"
                            Clicked="OnCheckPriceClicked"/>
                </HorizontalStackLayout>

                <!-- Result Section -->
                <Frame x:Name="ResultFrame"
                       IsVisible="False"
                       Padding="15"
                       BorderColor="#A66E43"
                       CornerRadius="15"
                       HasShadow="False"
                       HeightRequest="260">
                    <ScrollView>
                        <VerticalStackLayout x:Name="ResultListLayout" Spacing="8" Padding="0,0,0,10">
                            <Label x:Name="UnitIdLabel"
                                   FontSize="16" />
                            <Label x:Name="PriceLabel"
                                   FontSize="16" />
                        </VerticalStackLayout>
                    </ScrollView>
                </Frame>
            </VerticalStackLayout>

            <!-- LOADER OVERLAY -->
            <Grid x:Name="loaderOverlay"
              IsVisible="False"
              VerticalOptions="Fill"
              HorizontalOptions="Fill">
                <ActivityIndicator x:Name="activityIndicator"
                               Color="#A66E43"
                               IsRunning="True"
                               WidthRequest="60"
                               HeightRequest="60"
                               VerticalOptions="Center"
                               HorizontalOptions="Center"/>
            </Grid>
        </Grid>
    </Frame>
    
</toolkit:Popup>
